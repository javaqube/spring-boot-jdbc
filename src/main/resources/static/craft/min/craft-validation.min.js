(function(){angular.module("validation.rule",["validation"]).config(["$validationProvider",function(e){var t={required:function(e){return!!e},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/,minlength:function(e,t,i,n,r){return e&&e.length>=r},maxlength:function(e,t,i,n,r){return!e||e.length<=r}},i={required:{error:"This should be Required!!",success:"&nbsp;"},url:{error:"This should be Url",success:"&nbsp;"},email:{error:"This should be Email",success:"&nbsp;"},number:{error:"This should be Number",success:"&nbsp;"},minlength:{error:"This should be longer",success:"&nbsp;"},maxlength:{error:"This should be shorter",success:"&nbsp;"}};e.setExpression(t).setDefaultMsg(i)}])}).call(this),angular.module("validation",["validation.provider","validation.directive"]),angular.module("validation.provider",[]),angular.module("validation.directive",["validation.provider"]),function(){function e(){var e,t,i,n,r,s=this,a=function(s){e=s,t=e.get("$rootScope"),i=e.get("$http"),n=e.get("$q"),r=e.get("$timeout")},o={},l=null,u={};this.setExpression=function(e){return angular.extend(o,e),s},this.getExpression=function(e){return o[e]},this.setDefaultMsg=function(e){return angular.extend(u,e),s},this.getDefaultMsg=function(e){return u[e]},this.setValidMethod=function(e){l=e},this.getValidMethod=function(){return l},this.setErrorHTML=function(e){if(e.constructor===Function)return s.getErrorHTML=e,s},this.getErrorHTML=function(e){return'<p class="validation-invalid">'+e+"</p>"},this.setSuccessHTML=function(e){if(e.constructor===Function)return s.getSuccessHTML=e,s},this.getSuccessHTML=function(e){return'<p class="validation-valid">'+e+"</p>"},this.showSuccessMessage=!0,this.showErrorMessage=!0,this.checkValid=function(e){return!(!e||!e.$valid)},this.validate=function(e){var i=n.defer(),a=0;if(void 0===e)return console.error("This is not a regular Form name scope"),i.reject("This is not a regular Form name scope"),i.promise;if(e.validationId)t.$broadcast(e.$name+"submit-"+e.validationId,a++);else if(e.constructor===Array)for(var o in e)t.$broadcast(e[o].$name+"submit-"+e[o].validationId,a++);else for(var l in e)"$"!==l[0]&&e[l].hasOwnProperty("$dirty")&&t.$broadcast(l+"submit-"+e[l].validationId,a++);return i.promise.success=function(e){return i.promise.then(function(t){e(t)}),i.promise},i.promise.error=function(e){return i.promise.then(null,function(t){e(t)}),i.promise},r(function(){s.checkValid(e)?i.resolve("success"):i.reject("error")}),i.promise},this.validCallback=null,this.invalidCallback=null,this.resetCallback=null,this.reset=function(e){if(void 0===e)return void console.error("This is not a regular Form name scope");if(e.validationId)t.$broadcast(e.$name+"reset-"+e.validationId);else if(e.constructor===Array)for(var i in e)t.$broadcast(e[i].$name+"reset-"+e[i].validationId);else for(var n in e)"$"!==n[0]&&e[n].hasOwnProperty("$dirty")&&t.$broadcast(n+"reset-"+e[n].validationId)},this.addMsgElement=function(e){return e.after("<span></span>")},this.getMsgElement=function(e){return e.next()},this.$get=["$injector",function(e){return a(e),{setValidMethod:this.setValidMethod,getValidMethod:this.getValidMethod,setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,resetCallback:this.resetCallback,reset:this.reset,addMsgElement:this.addMsgElement,getMsgElement:this.getMsgElement}}]}angular.module("validation.provider").provider("$validation",e)}.call(this),function(){function e(e){var t=e.get("$validation"),i=e.get("$timeout"),n=e.get("$parse");return{link:function(e,r,s){var a=n(s.validationReset)(e);i(function(){r.on("click",function(e){e.preventDefault(),t.reset(a)})})}}}angular.module("validation.directive").directive("validationReset",e),e.$inject=["$injector"]}.call(this),function(){function e(e){var t=e.get("$validation"),i=e.get("$timeout"),n=e.get("$parse");return{priority:1,require:"?ngClick",link:function(e,r,s){var a=n(s.validationSubmit)(e);i(function(){r.off("click"),r.on("click",function(i){i.preventDefault(),t.validate(a).success(function(){n(s.ngClick)(e)})})})}}}angular.module("validation.directive").directive("validationSubmit",e),e.$inject=["$injector"]}.call(this),function(){function e(e){function t(e,t,i){for(var n=document.querySelectorAll("*[validation-group="+t+"]"),r=0,s=n.length;r<s;r++){var a=n[r],o=a.form.name,l=a.name;e[o][l].$setValidity(l,i)}}function i(e){var t={};return e&&e.length>0?(t=e[0],angular.isObject(t)||(t={result:t,message:""})):t={result:!1,message:""},t}var n=e.get("$validation"),r=e.get("$q"),s=e.get("$timeout"),a=e.get("$compile"),o=e.get("$parse"),l={},u=function(e,t,i,r,s,l,u){var c,d=t||n.getDefaultMsg(i).success,g=o(l.validCallback),v=l.messageId,f=l.validationGroup;return c=v||f?angular.element(document.querySelector("#"+(v||f))):n.getMsgElement(e),e.attr("no-validation-message")?c.css("display","none"):n.showSuccessMessage&&d?(d=angular.isFunction(d)?d(e,l,u):d,c.html("").append(a(n.getSuccessHTML(d,e,l))(r)),c.css("display","")):c.css("display","none"),s.$setValidity(s.$name,!0),g(r,{message:d}),n.validCallback&&n.validCallback(e),!0},c=function(e,t,i,r,s,l,u){var c,d=t||n.getDefaultMsg(i).error,g=o(l.invalidCallback),v=l.messageId,f=l.validationGroup;return c=v||f?angular.element(document.querySelector("#"+(v||f))):n.getMsgElement(e),e.attr("no-validation-message")?c.css("display","none"):n.showErrorMessage&&d?(d=angular.isFunction(d)?d(e,l,u):d,c.html("").append(a(n.getErrorHTML(d,e,l))(r)),c.css("display","")):c.css("display","none"),s.$setValidity(s.$name,!1),g(r,{message:d}),n.invalidCallback&&n.invalidCallback(e),!1},d=function(e){var t=l[e];return Object.keys(t).some(function(e){return t[e]})},g={},v=function(e,s,a,o,g,f){var h=g.slice(0),m=h[0].trim(),$=m.indexOf("="),p=$===-1?m:m.substr(0,$),b=$===-1?null:m.substr($+1),M=h.slice(1),E=p+"SuccessMessage",y=p+"ErrorMessage",k=n.getExpression(p),V=a.validationGroup,w={success:function(t){return u(s,t||a[E],p,e,o,a,b),!M.length||v(e,s,a,o,M,f)},error:function(t){return c(s,t||a[y],p,e,o,a,b)}};if(void 0===k)return console.error('You are using undefined validator "%s"',p),M.length?v(e,s,a,o,M,f):void 0;if(k.constructor===Function)return r.all([n.getExpression(p)(f,e,s,a,b)]).then(function(n){var r=i(n),s=r.message;return r.result?(V&&(l[V][o.$name]=!0,t(e,V,!0)),w.success(s)):V?(l[V][o.$name]=!1,d(V)?void t(e,V,!0):(t(e,V,!1),w.error(s))):w.error(s)},function(){return w.error()});if(k.constructor!==RegExp)return w.error();if(void 0!==f&&null!==f){if(n.getExpression(p).test(f))return V&&(l[V][o.$name]=!0,t(e,V,!0)),w.success();if(!V)return w.error();if(l[V][o.$name]=!1,!d(V))return t(e,V,!1),w.error();t(e,V,!0)}},f=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},h=function(){return f()+f()+f()+f()};return{restrict:"A",require:"ngModel",link:function(e,t,i,r){var a="false"!==i.useViewValue,o=i.validator,u=i.messageId,c=i.validationGroup,d=i.validMethod,f=i.ngModel,m=function(){},$=o.split(","),p=r.validationId=h(),b=null,M=void 0;return"boolean"==typeof i.initialValidity&&(M=i.initialValidity),i.$observe("validator",function(e){$=e.split(",")}),c&&(l[c]||(l[c]={}),l[c][r.$name]=!1),u||c||n.addMsgElement(t),r.$setValidity(r.$name,M),e.$on(r.$name+"reset-"+p,function(){m(),s(function(){r.$setViewValue(b),r.$setPristine(),r.$setValidity(r.$name,void 0),r.$render(),u||c?angular.element(document.querySelector("#"+(u||c))).html(""):n.getMsgElement(t).html(""),n.resetCallback&&n.resetCallback(t)})}),d=angular.isUndefined(d)?n.getValidMethod():d,e.$on(r.$name+"submit-"+p,function(n,o){var l=a?r.$viewValue:r.$modelValue,u=!1;u=v(e,t,i,r,$,l),"submit"===d&&(m(),m=e.$watch(function(){return e.$eval(f)},function(n,s){n!==s&&(void 0!==n&&null!==n||(n=""),u=v(e,t,i,r,$,n))}));var c=function(e){e?delete g[o]:(g[o]=t[0],s(function(){g[Math.min.apply(null,Object.keys(g))].focus()},0))};u.constructor===Object?u.then(c):c(u)}),"blur"===d?void t.bind("blur",function(){var n=e.$eval(f);"$apply"!==e.$root.$$phase?e.$apply(function(){v(e,t,i,r,$,n)}):v(e,t,i,r,$,n)}):void("submit"!==d&&"submit-only"!==d&&(e.$watch(function(){return e.$eval(f)},function(s){if(r.$pristine&&r.$viewValue)b=r.$viewValue||"",r.$setViewValue(r.$viewValue);else if(r.$pristine)return void(u||c?angular.element(document.querySelector("#"+(u||c))).html(""):n.getMsgElement(t).html(""));v(e,t,i,r,$,s)}),s(function(){i.$observe("noValidationMessage",function(e){var i;i=u||c?angular.element(document.querySelector("#"+(u||c))):n.getMsgElement(t),"true"===e||e===!0?i.css("display","none"):"false"!==e&&e!==!1||i.css("display","block")})})))}}}angular.module("validation.directive").directive("validator",e),e.$inject=["$injector"]}.call(this);