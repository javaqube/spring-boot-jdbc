(function(){angular.module("craft.widgets.dataGrid",[]).component("craftDataGrid",{templateUrl:"templates/widgets/data-grid.html",bindings:{data:"<",meta:"<",handlers:"<"},controller:["$scope","$filter","CrudService",function(e,t,l){var i=this;i.$onInit=function(){i.allSelected=!1,i.pager={pageSize:10,pageSizeOptions:[10,20,50,100],totalItems:i.data?i.data.length:0,filteredItemSize:function(){return"undefined"!=typeof i.filteredData&&null!==i.filteredData?i.filteredData.length:0},currentPage:1,pageChanged:function(){console.log("pageChanged"),console.log(this.currentPage),"undefined"!=typeof i.filteredData&&null!==i.filteredData&&(console.log(this.from(),this.to()),i.displayData=i.filteredData.slice(this.from(),this.to()))},from:function(){return(this.currentPage-1)*this.pageSize},to:function(){return this.currentPage*this.pageSize>this.filteredItemSize()?this.filteredItemSize():this.currentPage*this.pageSize}},i.searchText="",i.orderColumn=null,i.reverse=!1,i.meta.columns=i.meta.columns.map(function(e){return e.active=!0,e}),e.$watch("vm.searchText",function(e,l,n){null!=e&&""!==e&&(i.filteredData=t("filter")(i.data,e))}),e.$watch("vm.filteredData",function(e,t){i.pager.pageChanged()}),e.$watch("vm.pager.pageSize",function(e,t){i.pager.pageChanged()}),e.$watch("vm.data",function(e,t,l){console.log(e,t),null!=e&&(i.pager.totalItems=e.length),i.filteredData=i.data})},i.sort=function(e){i.orderColumn=e,i.reverse=!i.reverse},i.handleData=function(e){return null!==i.handlers.advise&&angular.forEach(e,function(e){i.executeFunctionByName("advise",e)}),e},i.executeFunctionByName=function(e){for(var t=[],l=arguments.length,n=1;n<l;n++)t.push(arguments[n]);var a=i.findFuncByName(e);a.apply(i.handlers,t)},i.findFuncByName=function(e){for(var t=e.split("."),l=i.handlers[t[0]],n=1;n<t.length;n++)l=l[t[n]];return l},i.showInLineButton=function(e,t){return void 0===e||i.executeFunctionByName(e,t)},i.toggleColumns=function(e){e.active=!e.active},i.toggleColumnMenu=function(){i.showColumnMenu=!i.showColumnMenu},i.selectAllItems=function(){i.allSelected=!i.allSelected,i.data.forEach(function(e){e.checked=i.allSelected})}}],controllerAs:"vm"}),angular.module("craft.widgets.dataGrid").directive("checkboxModel",["$compile",function(e){return{restrict:"A",link:function(t,l,i){t.$parent.updateSelections||(t.$parent.updateSelections=function(e,t,l){var i=e.indexOf(t),n=i>-1;l?n?e.splice(i,1):e.push(t):n?e.splice(0,1):e.splice(0,1,t)}),l.attr("ng-checked",i.checkboxModel+".indexOf("+i.checkboxValue+") > -1");var n=i.multiple?"true":"false";l.attr("ng-click","updateSelections("+[i.checkboxModel,i.checkboxValue,n].join(",")+")"),l.attr("ng-change","updateSelections("+[i.checkboxModel,i.checkboxValue,n].join(",")+")"),l.removeAttr("checkbox-model"),l.removeAttr("checkbox-value"),l.removeAttr("multiple"),e(l)(t)}}}])}).call(this),function(){angular.module("craft.widgets.dynamicForm",[]).component("craftDynamicForm",{templateUrl:"templates/widgets/dynamic-form.html",bindings:{meta:"<",currentItem:"<",handlers:"<",edit:"<"},controller:["$scope",function(e){var t=this;t.$onInit=function(){e.$watchCollection("vm.currentItem",function(e,l,i){if(console.log(e),t.handlers.hasOwnProperty("itemChanged")){var n=t.findFuncByName("itemChanged");n.call(t.handlers,e)}})},t.$onChanges=function(e){console.log(e)},t.hideLogic=function(e){if("undefined"==typeof e||null===e)return!1;if(t.handlers.hasOwnProperty(e)){var l=t.findFuncByName(e),i=l.call(t.handlers,t.currentItem);return i}},t.findFuncByName=function(e){for(var l=e.split("."),i=t.handlers[l[0]],n=1;n<l.length;n++)i=i[l[n]];return i},t.executeFunctionByName=function(e,l){var i=t.findFuncByName(e);"undefined"==typeof l?i.call(t.handlers):Array.isArray(l)===!0?i.apply(t.handlers,l):i.call(t.handlers,l)}}],controllerAs:"vm"})}.call(this),function(){angular.module("craft.widgets.FieldRender",[]),angular.module("craft.widgets.FieldRender").directive("craftFieldRender",["$templateCache","$compile",function(e,t){var l=function(e){var t="templates/widgets/field-render/"+e+".html";return t},i=function(i,n,a){var s=l(i.field.type);n.html(e.get(s)),t(n.contents())(i)};return{restrict:"E",scope:{field:"=",currentItem:"="},controller:[function(){}],link:i}}])}.call(this),function(){angular.module("craft.widgets.listViewer",[]).component("craftListViewer",{templateUrl:"templates/widgets/list-viewer.html",bindings:{data:"=",meta:"<",handlers:"<"},controller:["$scope","$filter",function(e,t){var l=this;l.$onInit=function(){l.data=l.handleData(l.data),l.pager={pageSizeOptions:[10,20,50,100],pageSize:10,totalItems:l.data?l.data.length:0,filteredItemSize:function(){return"undefined"!=typeof l.filteredData&&null!==l.filteredData?l.filteredData.length:0},currentPage:1,pageChanged:function(){console.log("pageChanged"),console.log(this.currentPage),"undefined"!=typeof l.filteredData&&null!==l.filteredData&&(console.log(this.from(),this.to()),l.displayData=l.filteredData.slice(this.from(),this.to()))},from:function(){return(this.currentPage-1)*this.pageSize},to:function(){return this.currentPage*this.pageSize>this.filteredItemSize()?this.filteredItemSize():this.currentPage*this.pageSize}},l.searchText="",l.orderColumn=null,l.reverse=!1,e.$watch("vm.searchText",function(e,i,n){null!=e&&""!==e&&(l.filteredData=t("filter")(l.data,e))}),e.$watch("vm.filteredData",function(e,t){l.pager.pageChanged()}),e.$watch("vm.pager.pageSize",function(e,t){l.pager.pageChanged()}),e.$watch("vm.data",function(e,t,i){console.log(e,t),null!=e&&(l.pager.totalItems=e.length),l.filteredData=l.data})},l.handleData=function(e){return null!==l.handlers.advise&&angular.forEach(e,function(e){l.executeFunctionByName("advise",e)}),e},l.sort=function(e){l.orderColumn=e,l.reverse=!l.reverse},l.executeFunctionByName=function(e,t){var i=l.findFuncByName(e);"undefined"==typeof t?i.call(l.handlers):Array.isArray(t)===!0?i.apply(l.handlers,t):i.call(l.handlers,t)},l.findFuncByName=function(e){for(var t=e.split("."),i=l.handlers[t[0]],n=1;n<t.length;n++)i=i[t[n]];return i},l.showInLineButton=function(e,t){return void 0===e||l.executeFunctionByName(e,t)}}],controllerAs:"vm"})}.call(this),function(){"use strict";function e(){return{templateUrl:function(e,t){return t.templateUrl||"templates/component/multi-select-module.html"},restrict:"E",scope:{leftoptions:"=",rightoptions:"=",showcolumn:"@"},controller:function(e){var t=[],l=[];e.selectItem=function(e){t=[],l=[],t.push(e)},e.removeItem=function(e){t=[],l=[],l.push(e)},e.rightSelect=function(){i(e.leftoptions,t),n(e.rightoptions,t),t=[],l=[]},e.leftSelect=function(){i(e.rightoptions,l),n(e.leftoptions,l),t=[],l=[]},e.rightAll=function(){t=[],l=[],n(e.rightoptions,e.leftoptions),e.leftoptions=[]},e.leftAll=function(){t=[],l=[],n(e.leftoptions,e.rightoptions),e.rightoptions=[]};var i=function(e,t){for(var l=0;l<t.length;l++){var i=e.indexOf(t[l]);i<0||e.splice(i,1)}},n=function(e,t){for(var l=0;l<t.length;l++)e.push(t[l])};e.show=function(t){return void 0===e.showcolumn||null===e.showcolumn?t:t[e.showcolumn]}},link:function(e,t,l){}}}angular.module("craft.widgets.MultiSelect",[]),angular.module("craft.widgets.MultiSelect").directive("craftMultiSelect",[e])}.call(this),function(){angular.module("craft.widgets.templates",[]).run(["$templateCache",function(e){e.put("templates/widgets/data-grid.html",'<div class="clearfix"><div class="pull-right tableTools-container"><div class="dt-buttons btn-overlap btn-group"><a class="dt-button buttons-collection buttons-colvis btn btn-white btn-primary btn-bold" tabindex="0" tooltip-placement="top" uib-tooltip="Show/hide columns" aria-controls="dynamic-table" data-original-title="" ng-click="vm.toggleColumnMenu()"><span><i class="glyphicon glyphicon-th bigger-110 blue"></i> <span class="hidden">Show/hide columns</span> </span></a><a ng-repeat="button in vm.meta.topButtons" ng-click="vm.executeFunctionByName(button.callback,vm.data,button.params)" class="dt-button btn btn-white btn-primary btn-bold" title="{{button.label}}"><span><i class="bigger-110 blue" ng-class="button.icon"></i> <span class="display">{{button.label}}</span></span></a><div class="dt-button-collection" style="margin-top: 0px" ng-show="vm.showColumnMenu"><ul class="dropdown-menu dropdown-light dropdown-caret"><li ng-repeat="column in vm.meta.columns"><a class="dt-button buttons-columnVisibility" ng-class="{active:column.active}" ng-click="vm.toggleColumns(column)" aria-controls="dynamic-table" href=""><span>{{column.label}}</span></a></li><!--<li><a class="dt-button buttons-columnVisibility" tabindex="0" aria-controls="dynamic-table"--><!--href="#"><span>Domain</span></a></li>--><!--<li><a class="dt-button buttons-columnVisibility active" tabindex="0" aria-controls="dynamic-table"--><!--href="#"><span>Price</span></a></li>--><!--<li><a class="dt-button buttons-columnVisibility active" tabindex="0" aria-controls="dynamic-table"--><!--href="#"><span>Clicks</span></a></li>--><!--<li><a class="dt-button buttons-columnVisibility active" tabindex="0" aria-controls="dynamic-table"--><!--href="#"><span>Update</span></a></li>--><!--<li><a class="dt-button buttons-columnVisibility active" tabindex="0" aria-controls="dynamic-table"--><!--href="#"><span>Status</span></a></li>--></ul></div><!--<a class="dt-button buttons-copy buttons-html5 btn btn-white btn-primary btn-bold" title="">--><!--<span><i class="fa fa-copy bigger-110 pink"></i> <span class="hidden">Copy</span></span></a>--><!--<a class="dt-button buttons-csv buttons-html5 btn btn-white btn-primary btn-bold" title="">--><!--<span><i class="fa fa-database bigger-110 orange"></i> <span class="hidden">Export to CSV</span></span></a>--><!--<a class="dt-button buttons-excel buttons-flash btn btn-white btn-primary btn-bold" >--><!--<span><i class="fa fa-file-excel-o bigger-110 green"></i> <span class="hidden">Export to Excel</span></span></a>--><!--<a class="dt-button buttons-pdf buttons-flash btn btn-white btn-primary btn-bold">--><!--<span><i class="fa fa-file-pdf-o bigger-110 red"></i> <span class="hidden">Export to PDF</span></span>--><!--</a>--><!--<a class="dt-button buttons-print btn btn-white btn-primary btn-bold" title="">--><!--<span><i class="fa fa-print bigger-110 grey"></i> <span class="hidden">Print</span></span>--><!--</a>--></div></div></div><div class="table-header">查询结果</div><div><div class="dataTables_wrapper form-inline no-footer"><div class="row"><div class="col-xs-6"><div class="dataTables_length"><label>每页<select ng-model="vm.pager.pageSize" class="form-control input-sm" ng-options="option for option in vm.pager.pageSizeOptions"><!--<option ng-repeat="option in vm.pager.pageSizeOptions"--><!--ng-selected="option==vm.pager.pageSize"--><!--value="{{option}}">--><!--{{option}}--><!--</option>--></select>条记录</label></div></div><div class="col-xs-6"><div class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" ng-model="vm.searchText"></label></div></div></div><table class="table table-striped table-bordered table-hover dataTable no-footer"><thead><tr class="table-header"><th><input type="checkbox" ng-click="vm.selectAllItems()" ng-checked="vm.allSelected"></th><th ng-repeat="column in vm.meta.columns|filter:{active: true}" class="center sorting" ng-click="vm.sort(column.sort)" ng-class="{\'sorting_desc\':(column.sort===vm.orderColumn) && vm.reverse,\'sorting_asc\':(column.sort===vm.orderColumn) && (!vm.reverse)}">{{column.label}}</th><th>操作</th></tr></thead><tbody><tr ng-repeat="item in vm.displayData| orderBy :vm.orderColumn:vm.reverse " class="table-detail"><td><input type="checkbox" ng-click="vm.selectOne()" ng-model="item.checked"></td><td ng-repeat="column in vm.meta.columns|filter:{active: true}" class="hidden-480">{{item[column.name]}}</td><td><button ng-repeat="button in vm.meta.inlineButtons" ng-class="button.class" ng-show="vm.showInLineButton(button.showFunc,item)" ng-click="vm.executeFunctionByName(button.callback,item)"><i ng-class="button.icon"></i>{{button.label}}</button></td></tr></tbody></table><div class="row"><div class="col-xs-6"><div class="dataTables_info" role="status" aria-live="polite">显示 ({{vm.pager.from()+1}} - {{vm.pager.to()}})条 / {{vm.pager.filteredItemSize()}} 条<label ng-if="vm.searchText!==\'\'">(共{{vm.pager.totalItems}}条)</label></div></div><div class="col-xs-6"><div class="dataTables_paginate paging_simple_numbers"><ul uib-pagination total-items="vm.pager.filteredItemSize()" items-per-page="vm.pager.pageSize" ng-model="vm.pager.currentPage" ng-change="vm.pager.pageChanged()" max-size="5" class="pagination-sm" boundary-link-numbers="true" boundary-links="true" rotate="false" first-text="首页" previous-text="上页" next-text="下页" last-text="尾页"></ul></div></div></div></div></div>'),e.put("templates/widgets/dynamic-form.html",'<div class="row" ng-cloak class="ng-cloak"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><div ng-if="!vm.edit">添加{{vm.meta.title}}</div><div ng-if="vm.edit">编辑{{vm.meta.title}}</div></h3></div><form class="form-horizontal panel-body" name="thisForm"><div ng-repeat="field in vm.meta.fields"><craft-field-render field="field" current-item="vm.currentItem" ng-if="!vm.hideLogic(field.hideFunc)"></craft-field-render></div><div class="form-group"><div class="col-xs-12 col-md-10 text-center"><button ng-repeat="button in vm.meta.formButtons" ng-class="button.class" validation-submit="thisForm" ng-click="vm.executeFunctionByName(button.callback,[vm.currentItem])"><i ng-class="button.icon"></i>{{button.label}}</button> <button class="btn btn-sm btn-primary" ng-click="vm.handlers.save(vm.currentItem,vm.edit)" validation-submit="thisForm"><i class="glyphicon glyphicon-ok">保存</i></button> <button class="btn btn-sm btn-grey" ng-click="vm.handlers.cancel()"><i class="glyphicon glyphicon-remove">取消</i></button><!--{{vm.meta.formButtons}}--></div></div></form><div class="panel-footer">{{vm.currentItem|json}}</div></div></div></div>'),e.put("templates/widgets/left-treenode-select.html",'<div class="tree-item" ng-class="{true:\'tree-selected\',false:\'\'} [selectItems.indexOf(item)>=0]" ng-if="item.children==undefined"><div class="tree-item-name"><a ng-click="select(item)"><i ng-class="{true:\'fa fa-check-square-o\',false:\'fa fa-square-o\'}[selectItems.indexOf(item)>=0]"></i> {{item.name}}</a></div></div><div class="tree-folder" ng-if="item.children.length>=0"><div class="tree-folder-header dropdown-toggle collapsed" data-toggle="collapse" data-target="#lefttree{{item.id}}"><i class="fa my-tree-icon"></i><div class="tree-folder-name">{{item.name}}</div></div><div class="tree-folder-content collapse" ng-if="item.children.length>0" id="lefttree{{item.id}}"><div ng-repeat="item in item.children" ng-include="\'templates/component/left-treenode-select.html\'"></div></div></div>'),e.put("templates/widgets/list-viewer.html",'<div><div class="table-header">查询结果</div><div class="dataTables_wrapper form-inline no-footer" style="overflow: auto"><div class="row"><div class="col-xs-6"><div class="dataTables_length" id="DataTables_Table_0_length"><label>Display<select ng-model="vm.pager.pageSize" class="form-control input-sm" ng-options="option for option in vm.pager.pageSizeOptions"></select>records</label></div></div><div class="col-xs-6"><div id="DataTables_Table_0_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" ng-model="vm.searchText"></label></div></div></div></div><div class="dataTables_wrapper form-inline no-footer" style="overflow: auto"><table class="table table-striped table-bordered table-hover dataTable no-footer"><thead><tr class="table-header"><th ng-repeat="column in vm.meta.columns" class="center sorting" ng-click="vm.sort(column.name)" ng-class="{\'sorting_desc\':(column.name===vm.orderColumn) && vm.reverse,\'sorting_asc\':(column.name===vm.orderColumn) && (!vm.reverse)}">{{column.label}}</th></tr></thead><tbody><tr ng-repeat="item in vm.displayData| orderBy :vm.orderColumn:vm.reverse  " class="table-detail"><td ng-repeat="column in vm.meta.columns" class="hidden-480">{{item[column.name]}}</td></tr></tbody></table></div><div class="dataTables_wrapper form-inline no-footer"><div class="row"><div class="col-xs-4"><div class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite">显示 ({{vm.pager.from()+1}} - {{vm.pager.to()}})条 / {{vm.pager.filteredItemSize()}} 条<label ng-if="vm.searchText!==\'\'">(共{{vm.pager.totalItems}}条)</label></div></div><div class="col-xs-8"><div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_0_paginate"><ul uib-pagination total-items="vm.pager.filteredItemSize()" items-per-page="vm.pager.pageSize" ng-model="vm.pager.currentPage" ng-change="vm.pager.pageChanged()" max-size="5" class="pagination-sm" boundary-link-numbers="true" boundary-links="true" rotate="false" first-text="首页" previous-text="上页" next-text="下页" last-text="尾页"></ul></div></div></div></div></div>'),e.put("templates/widgets/multi-select.html",'<div class="row treeselect"><div class="col-xs-5"><select name="from" id="undo_redo" class="form-control" size="13" multiple="multiple" ng-model="toBeSelected"><option ng-repeat="item in leftoptions track by $index" value="{{item.value}}">{{item.name}}</option></select></div><div class="col-xs-2 selectbutton"><button type="button" id="undo_redo_rightAll" class="btn btn-primary btn-block" ng-click="selectAll()"><i class="glyphicon glyphicon-forward"></i></button> <button type="button" id="undo_redo_rightSelected" class="btn btn-warning btn-block" ng-click="select()"><i class="glyphicon glyphicon-chevron-right"></i></button> <button type="button" id="undo_redo_leftSelected" class="btn btn-warning btn-block" ng-click="remove()"><i class="glyphicon glyphicon-chevron-left"></i></button> <button type="button" id="undo_redo_leftAll" class="btn btn-primary btn-block" ng-click="removeAll()"><i class="glyphicon glyphicon-backward"></i></button></div><div class="col-xs-5"><select name="to" id="undo_redo_to" class="form-control" size="13" multiple="multiple" ng-model="toBeRemoved"><option ng-repeat="item in rightoptions track by $index" value="{{item.value}}">{{item.name}}</option></select></div></div>'),e.put("templates/widgets/right-treenode-select.html",'<div class="tree-item" ng-class="{true:\'tree-selected\',false:\'\'}[removeItems.indexOf(item)>=0]" ng-if="item.children==undefined || item.children.length==0"><div class="tree-item-name"><a ng-click="remove(item)"><i ng-class="{true:\'fa fa-check-square-o\',false:\'fa fa-square-o\'}[removeItems.indexOf(item)>=0]"></i> {{show(item)}}</a></div></div><div class="tree-folder" ng-if="item.children.length>0"><div class="tree-folder-header dropdown-toggle collapsed" data-toggle="collapse" data-target="#righttree{{item.id}}"><i class="fa my-tree-icon"></i><div class="tree-folder-name">{{show(item)}}</div></div><div class="tree-folder-content collapse" ng-if="item.children.length>0" id="righttree{{item.id}}"><div ng-repeat="item in item.children" ng-include="\'templates/component/right-treenode-select.html\'"></div></div></div>'),e.put("templates/widgets/tree-select.html",'<div class="row lefttree"><div class="col-xs-5"><div class="tree tree-selectable" id="tree-select-left-div"><div ng-repeat="item in lefttree" ng-include="\'templates/widgets/left-treenode-select.html\'"></div></div></div><div class="col-xs-2"><button type="button" id="undo_redo_rightAll" class="btn btn-primary btn-block" ng-click="rightAll()"><i class="glyphicon glyphicon-forward"></i></button> <button type="button" id="undo_redo_rightSelected" class="btn btn-warning btn-block" ng-click="rightSelect()"><i class="glyphicon glyphicon-chevron-right"></i></button> <button type="button" id="undo_redo_leftSelected" class="btn btn-warning btn-block" ng-click="leftSelect()"><i class="glyphicon glyphicon-chevron-left"></i></button> <button type="button" id="undo_redo_leftAll" class="btn btn-primary btn-block" ng-click="leftAll()"><i class="glyphicon glyphicon-backward"></i></button></div><div class="col-xs-5"><div class="tree tree-selectable" id="tree-select-right-div"><div ng-repeat="item in righttree" ng-include="\'templates/widgets/right-treenode-select.html\'"></div></div></div></div>'),e.put("templates/widgets/field-render/checkbox.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><input type="checkbox" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" name="{{field.name}}" validator="{{field.validator.join()}}" class="col-xs-10 col-sm-5" placeholder="{{field.label}}" ng-true-value="1" ng-false-value="0"> <input type="checkbox" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" name="{{field.name}}" class="col-xs-10 col-sm-5" placeholder="{{field.label}}" ng-true-value="1" ng-false-value="0"></div></div>'),e.put("templates/widgets/field-render/date.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><p class="input-group"><input type="text" uib-datepicker-popup ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" validator="{{field.validator.join()}}" class="form-control" name="{{field.name}}" placeholder="{{field.label}}" is-open="status"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="status.opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div>'),e.put("templates/widgets/field-render/dictionary.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><dict-render current-item="currentItem" field="field"></dict-render></div></div>'),e.put("templates/widgets/field-render/dropdown.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label no-padding-right">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><select type="checkbox" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" name="{{field.name}}" validator="{{field.validator.join()}}" class="col-xs-10 col-sm-5" placeholder="{{field.label}}" ng-options="y as x for (x,y) in field.options"></select><select type="checkbox" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" name="{{field.name}}" class="col-xs-10 col-sm-5" placeholder="{{field.label}}" ng-options="y as x for (x,y) in field.options"></select></div></div>'),e.put("templates/widgets/field-render/email.html",'<div class="form-group"><div class="col-xs-12 col-sm-3 control-label">{{field.label}}</div><div class="col-xs-12 col-sm-9"><input type="email" placeholder="Email" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" validator="{{field.validator.join()}}" name="{{field.name}}"> <input type="email" placeholder="Email" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" name="{{field.name}}"></div></div>'),e.put("templates/widgets/field-render/hidden.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><input type="hidden" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" name="{{field.name}}" validator="{{field.validator.join()}}"> <input type="hidden" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" name="{{field.name}}"></div></div>'),e.put("templates/widgets/field-render/hintsearch.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><div ng-show="paramExist" style="top: 30px;position: absolute;z-index: 1;background-color: #ffffff;width: 200px"><li class="clearfix searchLi" ng-repeat="item in res" ng-click="checkoutValue(item.id)">{{item.value}}</li></div><input type="text" ng-model="currentItem[field.name]" validator="{{field.validator.join()}}" class="col-xs-10 col-sm-5" ng-change="valueChange()" ng-blur="changeInit()" ng-focus="valueChange()" name="textfield-{{field.name}}" placeholder="{{field.placeholder}}"></div></div>'),e.put("templates/widgets/field-render/password.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><input type="password" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" name="{{field.name}}" validator="{{field.validator.join()}}"> <input type="password" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" name="{{field.name}}"></div></div>'),e.put("templates/widgets/field-render/radio.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><label ng-repeat="option in field.options"><input type="radio" value="{{option.value}}" name="{{field.name}}" ng-if="field.validator.length!==0" ng-model="currentItem[field.name]" validator="{{field.validator.join()}}"> <span ng-bind="option.title"></span>&nbsp;&nbsp;</label></div></div>'),e.put("templates/widgets/field-render/rating.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><p class="input-group"><uib-rating ng-model="fieldValue" max="{{field.settings.max}}" readonly="isReadonly" on-hover="hoveringOver(value)" on-leave="overStar = null" titles="{{field.settings.titles}}" name="{{field.name}}" state-on="{{field.settings.stateOn}}" state-off="{{field.settings.stateOff}}"></uib-rating><span class="label" ng-class="{\'label-warning\': percent<30, \'label-info\': percent>=30 && percent<70, \'label-success\': percent>=70}" ng-show="overStar && !isReadonly">{{percent}}%</span></p></div></div>'),e.put("templates/widgets/field-render/service.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label no-padding-right">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><service-render current-item="currentItem" field="field"></service-render></div></div>'),e.put("templates/widgets/field-render/textarea.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label no-padding-right">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><textarea class="col-xs-10 col-sm-5" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" placeholder="{{field.placeholder}}" name="{{field.name}}" validator="{{field.validator.join()}}">\r\n\r\n        <textarea class="col-xs-10 col-sm-5" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" placeholder="{{field.placeholder}}" name="{{field.name}}">\r\n    </div>\r\n</div>'),e.put("templates/widgets/field-render/textfield.html",'<div class="form-group"><label class="col-xs-12 col-sm-3 control-label no-padding-right">{{field.label}} <i ng-if="field.validator.length!==0" class="glyphicon glyphicon-star"></i></label><div class="col-xs-12 col-sm-9"><input type="text" ng-model="currentItem[field.name]" ng-if="field.validator.length!==0" validator="{{field.validator.join()}}" class="col-xs-10 col-sm-5" name="{{field.name}}" placeholder="{{field.placeholder}}"> <input type="text" ng-model="currentItem[field.name]" ng-if="field.validator.length===0" class="col-xs-10 col-sm-5" name="{{field.name}}" placeholder="{{field.placeholder}}"></div></div>'),e.put("templates/widgets/tree-menu/item.html",'<a ng-if="!item.submenu" ui-sref="{{item.state}}({{item.params}})"><i ng-if="item.icon" class="menu-icon" ng-class="[item.icon]"></i> <span ng-if="item[\'level-1\']" class="menu-text">{{::item.title}} <span ng-if="item.badge" ng-class="[\'badge\', item[\'badge-class\'], item[\'tooltip-class\']]" uib-tooltip-html="\'{{item.tooltip}}\'" tooltip-placement="right" ng-bind-html="::item.badge"></span> <span ng-if="item.label" ng-class="[\'label\', item[\'label-class\']]" ng-attr-title="{{item[\'label-title\']}}" ng-bind="::item.label"></span> </span><i ng-if="!item.icon && item[\'level-2\']" class="menu-icon fa fa-caret-right"></i> <span ng-if="!item[\'level-1\']">{{::item.title}}</span> </a><a ng-if="item.submenu" href="" ng-class="\'dropdown-toggle\'" ng-click="vm.toggleSubmenu(item)"><i ng-if="item.icon" class="menu-icon" ng-class="[item.icon]"></i> <span class="menu-text">{{::item.title}} <span ng-if="item.badge" ng-class="[\'badge\', item[\'badge-class\'], item[\'tooltip-class\']]" uib-tooltip-html="\'{{item.tooltip}}\'" tooltip-placement="right" ng-bind-html="::item.badge"></span> <span ng-if="item.label" ng-class="[\'label\', item[\'label-class\']]" ng-attr-title="{{item[\'label-title\']}}" ng-bind="::item.label"></span> </span><b class="arrow fa fa-angle-down"></b> </a><b class="arrow"></b><ul class="submenu" ng-if="item.submenu" ng-attr-data-name="{{item.name}}"><li ng-repeat="item in ::item.submenu" ng-include="\'templates/widgets/tree-menu/item.html\'" ng-class="{\'open\':item.submenu && vm.isSubOpen(item), \'active\': vm.isActiveItem(item), \'hover\': $parent.ace.settings.hover, \'highlight\': $parent.ace.settings.highlight}"></li></ul>'),e.put("templates/widgets/tree-menu/shortcuts.html",'<div class="sidebar-shortcuts-large" id="sidebar-shortcuts-large"><button class="btn btn-success"><i class="ace-icon fa fa-signal"></i></button> <button class="btn btn-info"><i class="ace-icon fa fa-pencil"></i></button> <button class="btn btn-warning"><i class="ace-icon fa fa-users"></i></button> <button class="btn btn-danger"><i class="ace-icon fa fa-cogs"></i></button></div><div class="sidebar-shortcuts-mini" id="sidebar-shortcuts-mini"><span class="btn btn-success"></span> <span class="btn btn-info"></span> <span class="btn btn-warning"></span> <span class="btn btn-danger"></span></div>'),e.put("templates/widgets/tree-menu/tree-menu.html",'<ul class="nav nav-list"><!--ng-class="{active: vm.selected===item, open: vm.opened===item}" --><li ng-repeat="item in vm.treeMenuItems" ng-include="\'templates/widgets/tree-menu/item.html\'" ng-class="{\'open\':item.submenu && vm.isSubOpen(item), \'active\': vm.isActiveItem(item), \'hover\': vm.hover, \'highlight\': vm.highlight}" ng-click="vm.active(item)"></li></ul>')}])}.call(this),function(e,t,l){"use strict";t.module("ngToast.provider",[]).provider("ngToast",[function(){function e(e){for(var i=Math.floor(1e3*Math.random());l.indexOf(i)>-1;)i=Math.floor(1e3*Math.random());this.id=i,this.count=0,this.animation=n.animation,this.className=n.className,this.additionalClasses=n.additionalClasses,this.dismissOnTimeout=n.dismissOnTimeout,this.timeout=n.timeout,this.dismissButton=n.dismissButton,this.dismissButtonHtml=n.dismissButtonHtml,this.dismissOnClick=n.dismissOnClick,this.onDismiss=n.onDismiss,this.compileContent=n.compileContent,t.extend(this,e)}var l=[],i=[],n={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,onDismiss:null,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0,newestOnTop:!0};this.configure=function(e){t.extend(n,e)},this.$get=[function(){
var t=function(e,t){return t="object"==typeof t?t:{content:t},t.className=e,this.create(t)};return{settings:n,messages:l,dismiss:function(e){if(e){for(var t=l.length-1;t>=0;t--)if(l[t].id===e)return l.splice(t,1),void i.splice(i.indexOf(e),1)}else{for(;l.length>0;)l.pop();i=[]}},create:function(t){if(t="object"==typeof t?t:{content:t},n.combineDuplications)for(var a=i.length-1;a>=0;a--){var s=l[a],o=t.className||"success";if(s.content===t.content&&s.className===o)return void l[a].count++}n.maxNumber>0&&i.length>=n.maxNumber&&this.dismiss(i[0]);var r=new e(t);return l[n.newestOnTop?"unshift":"push"](r),i.push(r.id),r.id},success:function(e){return t.call(this,"success",e)},info:function(e){return t.call(this,"info",e)},warning:function(e){return t.call(this,"warning",e)},danger:function(e){return t.call(this,"danger",e)}}}]}])}(window,window.angular),function(e,t){"use strict";t.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(e){e.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),e.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(e,t,l){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(i,n){if(n.template){var a=t.get(n.template);a?i.replaceWith(a):l.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(t){t.hPos=e.settings.horizontalPosition,t.vPos=e.settings.verticalPosition,t.animation=e.settings.animation,t.messages=e.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(e,t,l){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(e,t){e.dismiss=function(){t.dismiss(e.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(i,n,a,s,o){n.attr("data-message-id",i.message.id);var r,c=i.message.compileContent;if(i.cancelTimeout=function(){e.cancel(r)},i.startTimeout=function(){i.message.dismissOnTimeout&&(r=e(function(){l.dismiss(i.message.id)},i.message.timeout))},i.onMouseEnter=function(){i.cancelTimeout()},i.onMouseLeave=function(){i.startTimeout()},c){var d;o(i,function(e){d=e,n.children().append(d)}),e(function(){t(d.contents())("boolean"==typeof c?i.$parent:c,function(e){d.replaceWith(e)})},0)}i.startTimeout(),i.message.dismissOnClick&&n.bind("click",function(){l.dismiss(i.message.id),i.$apply()}),i.message.onDismiss&&i.$on("$destroy",i.message.onDismiss.bind(i.message))}}}])}(window,window.angular),function(e,t){"use strict";t.module("craft.widgets.toast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),function(){angular.module("craft.widgets.treeMenu",[]).component("craftTreeMenu",{templateUrl:"templates/widgets/tree-menu/tree-menu.html",bindings:{data:"<",hover:"<",highlight:"<"},controller:["$http",function(e){var t=this;t.$onInit=function(){console.log(t.data),e.get(t.data).then(function(e){t.treeMenuItems=e.data,console.log(t.treeMenuItems)})},t.active=function(e){t.selected=e},t.toggleSubmenu=function(e){t.opened==e?t.opened=null:t.opened=e},t.isSubOpen=function(e){return t.opened==e},t.isActiveItem=function(e){return t.selected===e}}],controllerAs:"vm"})}.call(this),function(){"use strict";function e(){return{templateUrl:function(e,t){return t.templateUrl||"templates/widgets/tree-select.html"},restrict:"E",scope:{leftree:"=",righttree:"=",showcolumn:"@"},controller:function(e){e.selectItems=[],e.removeItems=[],e.select=function(t){var l=e.selectItems.indexOf(t);l<0?e.selectItems.push(t):e.selectItems.splice(l,1)},e.remove=function(t){var l=e.removeItems.indexOf(t);l<0?e.removeItems.push(t):e.removeItems.splice(l,1)},e.leftSelect=function(){if(void 0!==e.removeItems&&0!==e.removeItems.length){for(var t=0;t<e.removeItems.length;t++){var n=[];l(e.righttree,e.removeItems[t],n),i(e.lefttree,e.removeItems[t],n)}e.selectItems=[],e.removeItems=[]}},e.rightSelect=function(){if(void 0!==e.selectItems&&0!==e.selectItems.length){for(var t=0;t<e.selectItems.length;t++){var n=[];l(e.lefttree,e.selectItems[t],n),i(e.righttree,e.selectItems[t],n)}e.selectItems=[],e.removeItems=[]}},e.rightAll=function(){e.selectItems=[],e.removeItems=[],t(e.lefttree,e.righttree),e.lefttree=[]},e.leftAll=function(){e.selectItems=[],e.removeItems=[],t(e.righttree,e.lefttree),e.righttree=[]};var t=function(e,l){if(void 0!==e&&null!==e&&void 0!==l&&null!==l)for(var i=0;i<e.length;i++){for(var n=e[i],a=!1,s=0;s<l.length;s++)if(n.id===l[s].id){t(n.children,l[s].children),a=!0;break}a||l.push(n)}},l=function(e,t,l){for(var i=0;i<e.length;i++){var n=a(e[i],t,l);if(n)return 0===e[i].children.length&&e.splice(i,1),!0}},i=function(e,t,l){for(var i=l.pop(),a=0;a<e.length;a++)if(e[a].id===i.id)return void n(e[a],t,l);var s=angular.copy(i);s.children=[],e.push(s),n(s,t,l)},n=function(e,t,l){if(0===l.length)return void e.children.push(t);for(var i=l.pop(),a=0;a<e.children.length;a++)if(e.children[a].id===i.id)return void n(e.children[a],t,l);var s=angular.copy(i);s.children=[],e.children.push(s),n(s,t,l)},a=function(e,t,l){if(void 0===e.children)return!1;for(var i=0;i<e.children.length;i++){if(e.children[i].id===t.id)return e.children.splice(i,1),l.push(e),!0;if(void 0!==e.children[i].children){var n=a(e.children[i],t,l);return n&&0===e.children[i].children.length&&e.children.splice(i,1),!!n&&(l.push(e),!0)}}return!1};e.show=function(t){return void 0===e.showcolumn||null===e.showcolumn?t:t[e.showcolumn]}},link:function(e,t,l){}}}angular.module("craft.widgets.TreeSelect",[]),angular.module("craft.widgets.TreeSelect").directive("craftTreeSelect",e)}.call(this),function(){angular.module("craft.widgets",["craft.widgets.dataGrid","craft.widgets.dynamicForm","craft.widgets.FieldRender","craft.widgets.listViewer","craft.widgets.treeMenu","craft.widgets.templates","craft.widgets.toast","craft.widgets.TreeSelect","craft.widgets.MultiSelect"])}.call(this);